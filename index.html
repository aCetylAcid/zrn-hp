<html>
  <head>
    <link rel="stylesheet" href="assets/css/application.css" />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link href='http://fonts.googleapis.com/css?family=Oxygen:400,300&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
    <title>zrn.btn</title>
  </head>
  <body class="content">
    <div class="header">
      <div class="page-title">
        <a href="main-top"><img src="assets/img/icon.jpg" alt="icon" class="page-title-icon" /></a>
        <h1 class="page-title-text">zrn-ns.com (β)</h1>
      </div>
    </div>
    
    <div class="main">
      <div class="main-top" style="display: block;"><!-- .main-top -->
        <div class="js-masonry" data-masonry-options='{
                "itemSelector": ".item",
                "transitionDuration": "0.8s",
                "isFitWidth": true
              }'>
          <div class="item test">
            <img src="assets/img/Twitter-Icon.png" alt="twitter" class="item-icon img-responsive" />
            <p class="item-title">Twitter</p>
            <p class="item-description">main account</p>
            <a href="https://twitter.com/aCetylAcid/" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/facebook-Icon.png" alt="twitter" class="item-icon img-responsive" />
            <p class="item-title">Facebook</p>
            <a href="https://www.facebook.com/yuki.nagao.52" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/Tumblr-Icon.png" alt="tumblr" class="item-icon img-responsive" />
            <p class="item-title">tumblr</p>
            <p class="item-description">include blog</p>
            <a href="http://c9-h8-o4.tumblr.com/" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/Github-Icon.png" alt="twitter" class="item-icon img-responsive" />
            <p class="item-title">Github</p>
            <p class="item-description">code</p>
            <a href="https://github.com/aCetylAcid" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/Soundcloud-Icon.png" alt="soundcloud" class="item-icon img-responsive" />
            <p class="item-title">SoundCloud</p>
            <p class="item-description">listening only</p>
            <a href="https://soundcloud.com/acetylacid" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/Instagram-Icon.png" alt="instagram" class="item-icon img-responsive" />
            <p class="item-title">Instagram</p>
            <a href="https://instagram.com/zrn_btn/" class="external-link"></a>
          </div>
          <div class="item">
            <img src="assets/img/Email-Icon.png" alt="email" class="item-icon img-responsive" />
            <p class="item-title">Contacts</p>
            <a href="main-contacts"></a>
          </div>
        </div>
      </div><!-- / .main-top -->
      <div class="main-contacts" style="display: none;"><!-- .main-contacts -->
        <h1>It works!</h1>
        <p><a href="main-top">戻る</a></p>
      </div><!-- / .main-contacts -->
    </div>
    
    <div class="footer">
      <div class="content">
        <p>v0.1.0</p>
        <p>Designed by <a href="http://www.designbolts.com/2013/09/08/40-free-shaded-social-media-icons/" class="external-link" >Shaded Social Media Icons</a></p>
      </div>
    </div>
    <script src="assets/js/jquery-1.11.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/masonry.pkgd.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="assets/js/jquery.transit.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
      /**
       * open URL
       * if isExternalLink == True, then open as inner page.
       * else, open as outer page.
       */
      function openURL(url, isExternalLink) {
        if (url) {
          if (isExternalLink) {
            // window.open(url, '_blank');
            window.location = url;
          } else {
            $("body").animate({scrollTop:0}, 'fast');
            $('.main').transition({opacity: 0.0,
                                   complete: function(){
                                     // hide currently displaying main-* area
                                     var mainsToHide = $("div[class^='main-']");
                                     $.each(mainsToHide, function() {
                                       $(this).css({'display': 'none'});
                                     });
                                     
                                     // show selected main area
                                     var mainToShow = $("." + url);
                                     $(mainToShow).css({'display': 'block'});
                                     
                                     $('.main').transition({opacity: 1.0});
                                   }, });
            };
        };
      }
      
      $(function() {
        // fadein on page loaded
        $('.main').css({opacity: '0.0'})
        $('body')
          .css({opacity: '0.0'})
          .animate({opacity: '5'}, {duration: 500, complete: function(){
            $('.main')
              .animate({opacity: '1'}, 750);
          }});

        // if item clicked and it has link, then open it.
        $('.item').css("cursor","pointer");
        $('.item').click(function() {
          var location = $(this).find("a").attr("href");
          var isExternalLink = $(this).find("a").hasClass("external-link");
          openURL(location, isExternalLink);
        });
        $('.item').hover(
          function(){
            $(this).children('.item-icon').stop().transition({scale: '1.1'});
            $(this).stop().animate({ backgroundColor: 'rgba(0,0,0,0.15)' }, 500);
          },
          function(){
            $(this).children('.item-icon').stop().transition({scale: '1.0'});
            $(this).stop().animate({ backgroundColor: 'rgba(0,0,0,0.05)' }, 500);
          }
        );
        
        $('a').click(function() {
          var location = $(this).attr("href");
          var isExternalLink = $(this).hasClass("external-link");
          console.log(location + " " + isExternalLink + " " + $('this').hasClass("external-link"));
          openURL(location, isExternalLink);
          return false;
        });
        
        // flexible header
        $(window).scroll(function () {
          var posTop = $('body').scrollTop();
          if (posTop < 200) {
            $('.page-title').css({'height': (300 - posTop - 50) + "px"});
            $('.header').css({'height': (300 - posTop) + "px"});
          };
          
          if ($('.page-title').height() < 150) {
            var side = $('.page-title').height();
            if (side < 150) {
              $('.page-title-icon').stop().css({height: side + 'px', width: side + 'px', 'margin-top': '-' + side/2 + 'px', 'margin-left': '-' + side/2 + 'px'});
            };
          };
        });
      });
    </script>
  </body>
</html>